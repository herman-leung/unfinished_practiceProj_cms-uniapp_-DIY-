(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-article-article"],{"2a06":function(e,t,i){"use strict";var a=i("4ea4");i("c975"),i("fb6a"),i("a434"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var n=a(i("1da1")),s=a(i("d61a")),r=a(i("26be")),d=a(i("83a8")),o=a(i("1131")),c=a(i("b99c")),l=a(i("305a")),h=a(i("5384")),u=a(i("016c")),f=a(i("4d40")),p={components:{"st-search":r.default,"st-form":d.default,"st-swiper":o.default,"st-button":c.default,"st-input":l.default,"st-applys":h.default,"st-notice":u.default,"st-shop-list":f.default},data:function(){return{page_info:{},data_sorts:[],sorts:[],isPhone:!1,isShowDelete:!1,isShowDeleteStyle:!1,delete_unique:-1,id:1006,back_data:[],advance_data:[],back_last_data:{},back_advance_len:10}},mounted:function(){window.addEventListener("message",this.save);var e=navigator.userAgent.toLowerCase(),t=this;setTimeout((function(){-1!=e.indexOf("windows")?(t.getEff(!1),t.isPhone=!1):(t.getEff(!0),t.isPhone=!0)}),500),this.getPageTheme()},computed:{isPageChange:function(){return this.data_sorts==JSON.stringify(this.sorts)}},methods:{getEff:function(e){var t=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=t,t.http.getSortable(a.id).then(function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.page_info=i,a.data_sorts=i.sortable,t.next=4,JSON.parse(i.sortable);case 4:a.sorts=t.sent,a.initSortable("sort-1",e,1),a.setPageInfo(i),setTimeout((function(){for(var t in a.sorts.child)a.sorts.child[t].child_id&&a.initSortable(a.sorts.child[t].child_id,e,2)}),100);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return i.stop()}}),i)})))()},initSortable:function(e,t,i){var a=this;return(0,n.default)(regeneratorRuntime.mark((function n(){var r,d,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=a,n.next=3,document.getElementById(e);case 3:return d=n.sent,o={},n.next=7,{group:{name:"sort",pull:!0,put:!1},animation:200,forceFallback:!0,dragClass:"choose-active",chosenClass:"choose-active_1",disabled:t,filter:".st-item-fixed",scroll:!1,handle:".st-item-handle-1",onStart:function(e){r.isShowDelete=!0},onAdd:function(e){var t=e.to.id,i=e.from.id,a=e.oldIndex,n=e.newIndex;if("del"==t){var s=r.searchByIdAndIndex(i,a),d={id:i,type:"delete",index:a,item:s};r.back_data.push(d),r.deleteComp(i,t,a,n),e.item.style.width=0,e.item.style.height=0,e.item.style.overflow="hidden"}r.$forceUpdate()},onUpdate:function(t){var i=t.to.id,n=(t.from.id,t.oldIndex),s=t.newIndex;r.saveSort(s,n,e),r.isShowDelete=!1,r.pageIsChange();var d={id:i,old_index:s,new_index:n,type:"sort"};a.back_data.push(d),a.back_data.length>a.back_advance_len&&(a.back_data=a.back_data.slice(a.back_data.length-a.back_advance_len))}};case 7:o=n.sent,-1==i&&(o.group.pull=!1,o.group.put=!0),setTimeout((function(){s.default.create(d,o)}),300);case 11:case"end":return n.stop()}}),n)})))()},saveSort:function(e,t,i){var a=this;return(0,n.default)(regeneratorRuntime.mark((function n(){var s,r,d,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=a,r=s.sorts,r.id==i)t<e?(r.child.splice(e+1,0,r.child[t]),r.child.splice(t,1)):(r.child.splice(e,0,r.child[t]),r.child.splice(t+1,1));else for(d in r.child)o=r.child[d],o.child_id==i&&(t<e?(o.child.splice(e+1,0,o.child[t]),o.child.splice(t,1)):(o.child.splice(e,0,o.child[t]),o.child.splice(t+1,1)));s.sorts=r,uni.setStorageSync("sortable",s.sorts);case 5:case"end":return n.stop()}}),n)})))()},save:function(e){var t=this,i=e.data,a=i.data;switch(i.method){case"layoutSave":t.saveLayout();break;case"add-st":t.addComponent(a);break;case"update":t.updateAttr(a);break;case"deleteCompUnique":t.deleteCompUnique();break;case"backData":t.backData();break;case"advance":t.advance();break;case"setPageSuccess":t.setPageSuccess();break;case"updatePageTheme":t.updatePageTheme();break}},saveLayout:function(){var e=this,t=JSON.stringify(this.sorts);this.http.save_page(e.id,t)},addComponent:function(e){var t=this,i=this,a=e.attr_obj;a.unique=Math.floor((new Date).getTime()/1e3),-1==a.child_id&&(a.child_id=Math.floor((new Date).getTime())),this.sorts.child.splice(0,0,a);var n={id:this.sorts.id,type:"add",index:0,item:a};this.back_data.push(n),this.back_data.length>this.back_advance_len&&(this.back_data=this.back_data.slice(this.back_data.length-this.back_advance_len)),a.child_id&&setTimeout((function(){i.initSortable(a.child_id,t.isPhone,2)}),100)},updateAttr:function(e){var t=this,i=this.sorts;for(var a in i.child)if(i.child[a].unique==e.unique){var n=JSON.parse(JSON.stringify(i.child[a])),s={id:i.id,type:"update",unique:i.child[a].unique,item:n,new_data:e};for(var r in JSON.stringify(s.item)!=JSON.stringify(this.back_last_data.item)&&(this.back_data.push(s),this.back_data.length>this.back_advance_len&&(this.back_data=this.back_data.slice(this.back_data.length-this.back_advance_len))),e)t.sorts.child[a][r]=e[r];break}this.pageIsChange(),this.$forceUpdate()},deleteComp:function(e,t,i,a){var n=this.sorts;if(n.id==e)n.child.splice(i,1);else for(var s in n.child)n.child[s].child_id==e&&n.child[s].child.splice(i,1)},pageIsChange:function(){this.isPageChange?window.parent.postMessage({method:"pageLayoutChange",data:{flag:!1}},"*"):window.parent.postMessage({method:"pageLayoutChange",data:{flag:!0}},"*")},activeGetUnique:function(e){this.delete_unique=e.unique,window.parent.postMessage({method:"activeGetUnique",data:{item:e}},"*")},deleteCompUnique:function(){var e=this.sorts,t=!1;for(var i in e.child){if(e.child[i].unique==this.delete_unique){var a={id:e.id,type:"delete",index:i,item:e.child[i]};this.back_data.push(a),this.back_data.length>this.back_advance_len&&(this.back_data=this.back_data.slice(this.back_data.length-this.back_advance_len)),e.child.splice(i,1),t=!0;break}if(e.child[i].child&&e.child[i].child.length)for(var n in e.child[i].child){var s=e.child[i].child[n];if(s.unique==this.delete_unique){var r={id:e.child[i].id,type:"delete",index:n,item:s};this.back_data.push(r),e.child[i].child.splice(n,1),t=!0;break}}if(t)break}this.pageIsChange()},backData:function(){if(!(this.back_data.length<=0)){var e=this,t=this.sorts,i=this.back_data.pop();switch(this.advance_data.push(JSON.parse(JSON.stringify(i))),this.advance_data.length>this.back_advance_len&&(this.advance_data=this.advance_data.slice(this.advance_data.length-this.back_advance_len)),i.type){case"sort":this.saveSort(i.new_index,i.old_index,i.id);break;case"delete":if(t.id==i.id)this.sorts.child.splice(i.index,0,i.item),i.item.child_id&&setTimeout((function(){e.initSortable(i.item.child_id,e.isPhone,2)}),100);else{var a=t.child;for(var n in a)a[n].id==i.id&&this.sorts.child[n].child.splice(i.index,0,i.item)}break;case"add":this.sorts.child.splice(i.index,1);break;case"update":if(t.id==i.id)for(var s in t.child)if(t.child[s].unique==i.unique){for(var r in i.item)this.sorts.child[s][r]=i.item[r];break}window.parent.postMessage({method:"activeGetUnique",data:{item:JSON.parse(JSON.stringify(i.item))}},"*"),this.$forceUpdate();break}this.back_last_data=JSON.parse(JSON.stringify(i)),this.pageIsChange()}},searchByIdAndIndex:function(e,t){var i=this.sorts;if(i.id==e)return i.child[t];var a=i.child;for(var n in a)if(a[n].id==e)return a[n][t];return-1},advance:function(){if(!(this.advance_data.length<=0)){var e=this,t=this.sorts,i=this.advance_data.pop();switch(i.type){case"sort":this.saveSort(i.old_index,i.new_index,i.id);break;case"delete":if(t.id==i.id)this.sorts.child.splice(i.index,1),i.item.child_id&&setTimeout((function(){e.initSortable(i.item.child_id,e.isPhone,2)}),100);else{var a=t.child;for(var n in a)a[n].child_id==i.child_id&&this.sorts.child[n].child.splice(i.index,1)}break;case"add":this.sorts.child.splice(i.index,0,i.item);break;case"update":if(t.id==i.id)for(var s in t.child)if(t.child[s].unique==i.unique){for(var r in i.new_data)this.sorts.child[s][r]=i.new_data[r];break}window.parent.postMessage({method:"activeGetUnique",data:{item:JSON.parse(JSON.stringify(i.new_data))}},"*"),this.$forceUpdate();break}this.pageIsChange()}},setPageInfo:function(e){uni.setNavigationBarTitle({title:e.page_name})},setPageSuccess:function(){this.getEff()},getPageTheme:function(){this.http.getPageTheme().then((function(e){setTimeout((function(){uni.setNavigationBarColor({backgroundColor:"#ff0000"})}),1e3)}))},updatePageTheme:function(){this.getPageTheme()}}};t.default=p},4276:function(e,t,i){"use strict";i.r(t);var a=i("2a06"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},5938:function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content",style:{"background-color":e.page_info.page_background_color}},[i("v-uni-view",{staticClass:"sortable sortable-panel",attrs:{id:"sort-1"}},[e._l(e.sorts.child,(function(t,a){return["st-search"==t.sorts?i("st-search",{attrs:{isPhone:e.isPhone,dat:t},on:{getUnique:function(t){arguments[0]=t=e.$handleEvent(t),e.activeGetUnique.apply(void 0,arguments)}}}):e._e(),"st-swiper"==t.sorts?i("st-swiper",{attrs:{isPhone:e.isPhone,dat:t},on:{getUnique:function(t){arguments[0]=t=e.$handleEvent(t),e.activeGetUnique.apply(void 0,arguments)}}}):e._e(),"st-form"==t.sorts?i("st-form",{attrs:{isPhone:e.isPhone,dat:t},on:{getUnique:function(t){arguments[0]=t=e.$handleEvent(t),e.activeGetUnique.apply(void 0,arguments)}}}):e._e(),"st-input"==t.sorts?i("st-input",{attrs:{isPhone:e.isPhone,dat:t},on:{getUnique:function(t){arguments[0]=t=e.$handleEvent(t),e.activeGetUnique.apply(void 0,arguments)}}}):e._e(),"st-button"==t.sorts?i("st-button",{attrs:{isPhone:e.isPhone,dat:t},on:{getUnique:function(t){arguments[0]=t=e.$handleEvent(t),e.activeGetUnique.apply(void 0,arguments)}}}):e._e(),"st-applys"==t.sorts?i("st-applys",{attrs:{isPhone:e.isPhone,dat:t},on:{getUnique:function(t){arguments[0]=t=e.$handleEvent(t),e.activeGetUnique.apply(void 0,arguments)}}}):e._e(),"st-notice"==t.sorts?i("st-notice",{attrs:{isPhone:e.isPhone,dat:t},on:{getUnique:function(t){arguments[0]=t=e.$handleEvent(t),e.activeGetUnique.apply(void 0,arguments)}}}):e._e(),"st-shop-list"==t.sorts?i("st-shop-list",{attrs:{isPhone:e.isPhone,dat:t},on:{getUnique:function(t){arguments[0]=t=e.$handleEvent(t),e.activeGetUnique.apply(void 0,arguments)}}}):e._e()]}))],2)],1)},s=[]},7369:function(e,t,i){"use strict";var a=i("a223"),n=i.n(a);n.a},"93c5":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */.mt-3[data-v-70536154]{margin-top:%?30?%}.mr-3[data-v-70536154]{margin-right:%?30?%}.mb-3[data-v-70536154]{margin-bottom:%?30?%}.ml-3[data-v-70536154]{margin-left:%?30?%}\r\n/* sortable class */.sortable-panel[data-v-70536154]{position:relative}.sortable-panel > *[data-v-70536154]{position:relative}.st-item-fixed-1[data-v-70536154]{background-color:#6c6c6c;color:silver}.st-item-fixed-1 > *[data-v-70536154]{background-color:#6c6c6c;color:silver}\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.sortable_delete[data-v-70536154]{position:fixed;top:%?2?%;left:%?2?%;width:%?250?%;height:%?250?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border:%?2?% dotted #f56c6c;padding:%?40?%;border-radius:%?20?%;color:#f56c6c;z-index:999;background-color:#fff;-webkit-transition:all 1s;transition:all 1s;overflow:hidden}.sortable_delete *[data-v-70536154]{width:0;height:0;overflow:hidden}.content[data-v-70536154]{min-height:calc(100vh - 44px)}.content .sortable[data-v-70536154]{width:100%}.content .sortable > *[data-v-70536154]{margin-top:%?30?%;margin-bottom:%?30?%}.content .sortable > *[data-v-70536154]:first-child{margin-top:0}.content .sortable > *[data-v-70536154]:last-child{margin-bottom:0;padding-bottom:%?30?%}',""]),e.exports=t},a223:function(e,t,i){var a=i("93c5");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("5022ebe4",a,!0,{sourceMap:!1,shadowMode:!1})},b5af:function(e,t,i){"use strict";i.r(t);var a=i("5938"),n=i("4276");for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("7369");var r,d=i("f0c5"),o=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"70536154",null,!1,a["a"],r);t["default"]=o.exports}}]);